# Notion Page Viewer PHP

This is a simple PHP project designed to fetch content from a specific Notion page (and its direct child pages) and display it as a website. It utilizes the official Notion API and includes features like server-side caching, basic block rendering, and URL routing based on child page titles.

## Features

*   **Notion Content Display**: Renders content from a specified Notion page.
*   **Subpage Routing**: Automatically creates routes for direct child pages of the main Notion page (e.g., `yourdomain.com/subpage-title`). The URL path is generated by normalizing the child page title (lowercase, spaces to hyphens, special characters removed).
*   **Block Support**: Handles common Notion blocks including:
    *   Headings (H1, H2, H3)
    *   Paragraphs
    *   Bulleted and Numbered Lists
    *   To-do Lists (rendered as disabled checkboxes)
    *   Images (Internal and External)
    *   Code Blocks (with basic syntax highlighting via Prism.js)
    *   Quotes
    *   Callouts (with emoji or external icons)
    *   Dividers
    *   Tables (including column headers and rendering of rich text/mentions within cells)
    *   Child Page blocks (rendered as links to the subpage on the parent page)
    *   Page Mentions (rendered as internal links, fetching the actual page title)
*   **Rich Text Formatting**: Supports bold, italics, strikethrough, underline, code annotations, and external links within text blocks and table cells.
*   **Server-Side Caching**: Caches Notion API responses (page content, page titles, subpage lists, table rows) to reduce API calls and improve performance. Cache duration is configurable.
*   **Dynamic Page Titles**: Uses the actual Notion page title for the HTML `<title>` tag and the main `<h1>` header (fetched via a separate API call).
*   **JavaScript Enhancements**:
    *   Automatic Table of Contents generation based on H1/H2/H3 headings.
    *   Simple lightbox effect for images.
*   **Basic Error Handling**: Includes a simple `error.php` page for 404 and 500 errors (configured via `.htaccess`).
*   **Simple Setup**: Requires minimal configuration.

## Project Structure

.
├── private/
│   ├── cache/          # Cache directory (needs write permissions for the web server)
│   └── config.php      # Configuration file (API key, page ID, cache settings) - **DO NOT COMMIT**
├── public_html/
│   ├── 